


<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>  Mysql1 |    Fly_cloud</title>
  <meta name="description" content="A minimalist theme for hexo.">
  <!-- 标签页图标 -->
  

  <!-- 图标库 -->
  <link href="https://cdn.jsdelivr.net/npm/remixicon@2.2.0/fonts/remixicon.css" rel="stylesheet">
  <!-- 动画库 -->
  
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/fushaolei/cdn-white@1.0/css/animate.css"/>
  
  <!-- css文件 -->
  
<link rel="stylesheet" href="/GaoHangIdea/css/white.css">

  <!-- 代码高亮 -->
  
    
      
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@10.1.1/styles/github.css">

    
  
<meta name="generator" content="Hexo 6.3.0"></head>


<body>

<div class="menu-outer">
    <div class="menu-inner">
      <div class="menu-site-name  animate__animated  animate__fadeInUp">
        <a href="/GaoHangIdea/">
          Fly_cloud
        </a>
        
      </div>
      <div class="menu-group">
        <ul class="menu-ul">
        
          <a href="/GaoHangIdea/" class="nav-link">
            <li class="menu-li  animate__animated  animate__fadeInUp">
              HOME
            </li>
          </a>
        
          <a href="/GaoHangIdea/archives" class="nav-link">
            <li class="menu-li  animate__animated  animate__fadeInUp">
              BLOG
            </li>
          </a>
        
          <a href="/GaoHangIdea/tags" class="nav-link">
            <li class="menu-li  animate__animated  animate__fadeInUp">
              TAGS
            </li>
          </a>
        
        
          <li class="menu-li animate__animated  animate__fadeInUp" id="sort">
             分类
             <div class="categories-outer " id="sort-div">
               <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/GaoHangIdea/categories/Java/">Java</a></li><li class="category-list-item"><a class="category-list-link" href="/GaoHangIdea/categories/Vue/">Vue</a></li><li class="category-list-item"><a class="category-list-link" href="/GaoHangIdea/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/">数据库</a></li></ul>
             </div>
          </li>
        
        
          <li class="menu-li animate__animated  animate__fadeInUp" id="mobile-menu">
            <i class="ri-menu-line"></i>
          </li>
        
        </ul>

      </div>

    </div>
</div>
<div id="mobile-main" class="animate__animated  animate__fadeIn">
  <div class="mobile-menu-inner">
    <div class="mobile-menu-site-name animate__animated  animate__fadeInUp">
      <a href="/GaoHangIdea/">
        Fly_cloud
      </a>
    </div>
    <div class="mobile-menu-group" id="mobile-close">
      <i class="ri-close-line"></i>
    </div>

  </div>

  <div class="mobile-menu-div">
  
    <a href="/GaoHangIdea/" class="mobile-nav-link">
      <div class="mobile-menu-child animate__animated  animate__fadeInUp">
        <span>HOME</span>
      </div>
    </a>
  
    <a href="/GaoHangIdea/archives" class="mobile-nav-link">
      <div class="mobile-menu-child animate__animated  animate__fadeInUp">
        <span>BLOG</span>
      </div>
    </a>
  
    <a href="/GaoHangIdea/tags" class="mobile-nav-link">
      <div class="mobile-menu-child animate__animated  animate__fadeInUp">
        <span>TAGS</span>
      </div>
    </a>
  
  
  </div>


</div>

<div class="body-outer">
  <div class="body-inner">
    
<article class="post-inner">
  <div class="post-content-outer">
    <div class="post-intro">
      <div class="post-title animate__animated  animate__fadeInUp">Mysql1</div>
      <div class="meta-intro animate__animated  animate__fadeInUp">Oct 19 2022</div>
      
    </div>
    <div class="post-content-inner">
      <div class="post-content-inner-space">

      </div>
      <div class="post-content-main animate__animated  animate__fadeInUp">
        <!-- top型目录 -->
        
        <h1 id="MySQL"><a href="#MySQL" class="headerlink" title="MySQL"></a>MySQL</h1><h2 id="1、sql、DB、DBMS分别是什么，他们之间的关系？"><a href="#1、sql、DB、DBMS分别是什么，他们之间的关系？" class="headerlink" title="1、sql、DB、DBMS分别是什么，他们之间的关系？"></a>1、sql、DB、DBMS分别是什么，他们之间的关系？</h2><p>?	DB:<br>?		DataBase（数据库，数据库实际上在硬盘上以文件的形式存在）</p>
<pre><code>DBMS: 
    DataBase Management System（数据库管理系统，常见的有：MySQL Oracle DB2 Sybase SqlServer...）

SQL: 
    结构化查询语言，是一门标准通用的语言。标准的sql适合于所有的数据库产品。
    SQL属于高级语言。只要能看懂英语单词的，写出来的sql语句，可以读懂什么意思。
    SQL语句在执行的时候，实际上内部也会先进行编译，然后再执行sql。（sql语句的编译由DBMS完成。）

DBMS负责执行sql语句，通过执行sql语句来操作DB当中的数据。
DBMS -(执行)-&gt; SQL -(操作)-&gt; DB
</code></pre>
<h2 id="2、什么是表？"><a href="#2、什么是表？" class="headerlink" title="2、什么是表？"></a>2、什么是表？</h2><pre><code>表：table

表：table是数据库的基本组成单元，所有的数据都以表格的形式组织，目的是可读性强。

一个表包括行和列：
    行：被称为数据/记录(data)
    列：被称为字段(column)

学号(int)	姓名(varchar)	年龄(int)
------------------------------------
110			张三				20
120			李四				21

每一个字段应该包括哪些属性？
    字段名、数据类型、相关的约束。
</code></pre>
<h2 id="3、学习MySQL主要还是学习通用的SQL语句，那么SQL语句包括增删改查，SQL语句怎么分类呢？"><a href="#3、学习MySQL主要还是学习通用的SQL语句，那么SQL语句包括增删改查，SQL语句怎么分类呢？" class="headerlink" title="3、学习MySQL主要还是学习通用的SQL语句，那么SQL语句包括增删改查，SQL语句怎么分类呢？"></a>3、学习MySQL主要还是学习通用的SQL语句，那么SQL语句包括增删改查，SQL语句怎么分类呢？</h2><p>?	DQL（数据查询语言）: 查询语句，凡是select语句都是DQL。<br>?	DML（数据操作语言）：insert delete update，对表当中的数据进行增删改。<br>?	DDL（数据定义语言）：create drop alter，对表结构的增删改。<br>?	TCL（事务控制语言）：commit提交事务，rollback回滚事务。(TCL中的T是Transaction)<br>?	DCL（数据控制语言）: grant授权、revoke撤销权限等。</p>
<h2 id="4、导入数据（后期大家练习的时候使用这个演示的数据）"><a href="#4、导入数据（后期大家练习的时候使用这个演示的数据）" class="headerlink" title="4、导入数据（后期大家练习的时候使用这个演示的数据）"></a>4、导入数据（后期大家练习的时候使用这个演示的数据）</h2><p>?	第一步：登录mysql数据库管理系统<br>?		dos命令窗口：<br>?			mysql -uroot -p333<br>?	第二步：查看有哪些数据库<br>?		show databases; (这个不是SQL语句，属于MySQL的命令。)<br>?		+——————–+<br>?		| Database           |<br>?		+——————–+<br>?		| information_schema |<br>?		| mysql              |<br>?		| performance_schema |<br>?		| test               |<br>?		+——————–+<br>?	第三步：创建属于我们自己的数据库<br>?		create database bjpowernode; (这个不是SQL语句，属于MySQL的命令。)<br>?	第四步：使用bjpowernode数据<br>?		use bjpowernode; (这个不是SQL语句，属于MySQL的命令。)<br>?	第五步：查看当前使用的数据库中有哪些表？<br>?		show tables; (这个不是SQL语句，属于MySQL的命令。)<br>?	第六步：初始化数据<br>?		mysql&gt; source D:\course\05-MySQL\resources\bjpowernode.sql<br>?	</p>
<pre><code>注意：数据初始化完成之后，有三张表：
+-----------------------+
| Tables_in_bjpowernode |
+-----------------------+
| dept                  |
| emp                   |
| salgrade              |
+-----------------------+
</code></pre>
<h2 id="5、bjpowernode-sql，这个文件以sql结尾，这样的文件被称为“sql脚本”。什么是sql脚本呢？"><a href="#5、bjpowernode-sql，这个文件以sql结尾，这样的文件被称为“sql脚本”。什么是sql脚本呢？" class="headerlink" title="5、bjpowernode.sql，这个文件以sql结尾，这样的文件被称为“sql脚本”。什么是sql脚本呢？"></a>5、bjpowernode.sql，这个文件以sql结尾，这样的文件被称为“sql脚本”。什么是sql脚本呢？</h2><p>?	当一个文件的扩展名是.sql，并且该文件中编写了大量的sql语句，我们称这样的文件为sql脚本。<br>?	注意：直接使用source命令可以执行sql脚本。<br>?	sql脚本中的数据量太大的时候，无法打开，请使用source命令完成初始化。</p>
<p>6、删除数据库：drop database bjpowernode;</p>
<p>7、查看表结构：<br>    +———————–+<br>    | Tables_in_bjpowernode |<br>    +———————–+<br>    | dept                  |   (部门表)<br>    | emp                   |   (员工表)<br>    | salgrade              |   (工资等级表)<br>    +———————–+</p>
<pre><code>mysql&gt; desc dept;
+--------+-------------+------+-----+---------+-------+
| Field  | Type        | Null | Key | Default | Extra |
+--------+-------------+------+-----+---------+-------+
| DEPTNO | int(2)      | NO   | PRI | NULL    |       |		部门编号
| DNAME  | varchar(14) | YES  |     | NULL    |       |		部门名称
| LOC    | varchar(13) | YES  |     | NULL    |       |		部门位置
+--------+-------------+------+-----+---------+-------+

mysql&gt; desc emp;
+----------+-------------+------+-----+---------+-------+
| Field    | Type        | Null | Key | Default | Extra |
+----------+-------------+------+-----+---------+-------+
| EMPNO    | int(4)      | NO   | PRI | NULL    |       |	员工编号
| ENAME    | varchar(10) | YES  |     | NULL    |       |	员工姓名
| JOB      | varchar(9)  | YES  |     | NULL    |       |	工作岗位
| MGR      | int(4)      | YES  |     | NULL    |       |	上级领导编号
| HIREDATE | date        | YES  |     | NULL    |       |	入职日期
| SAL      | double(7,2) | YES  |     | NULL    |       |	月薪
| COMM     | double(7,2) | YES  |     | NULL    |       |	补助/津贴
| DEPTNO   | int(2)      | YES  |     | NULL    |       |	部门编号
+----------+-------------+------+-----+---------+-------+

mysql&gt; desc salgrade;
+-------+---------+------+-----+---------+-------+
| Field | Type    | Null | Key | Default | Extra |
+-------+---------+------+-----+---------+-------+
| GRADE | int(11) | YES  |     | NULL    |       |		等级
| LOSAL | int(11) | YES  |     | NULL    |       |		最低薪资
| HISAL | int(11) | YES  |     | NULL    |       |		最高薪资
+-------+---------+------+-----+---------+-------+
</code></pre>
<p>8、表中的数据？</p>
<p>mysql&gt; select * from emp;<br>+——-+——–+———–+——+————+———+———+——–+<br>| EMPNO | ENAME  | JOB       | MGR  | HIREDATE   | SAL     | COMM    | DEPTNO |<br>+——-+——–+———–+——+————+———+———+——–+<br>|  7369 | SMITH  | CLERK     | 7902 | 1980-12-17 |  800.00 |    NULL |     20 |<br>|  7499 | ALLEN  | SALESMAN  | 7698 | 1981-02-20 | 1600.00 |  300.00 |     30 |<br>|  7521 | WARD   | SALESMAN  | 7698 | 1981-02-22 | 1250.00 |  500.00 |     30 |<br>|  7566 | JONES  | MANAGER   | 7839 | 1981-04-02 | 2975.00 |    NULL |     20 |<br>|  7654 | MARTIN | SALESMAN  | 7698 | 1981-09-28 | 1250.00 | 1400.00 |     30 |<br>|  7698 | BLAKE  | MANAGER   | 7839 | 1981-05-01 | 2850.00 |    NULL |     30 |<br>|  7782 | CLARK  | MANAGER   | 7839 | 1981-06-09 | 2450.00 |    NULL |     10 |<br>|  7788 | SCOTT  | ANALYST   | 7566 | 1987-04-19 | 3000.00 |    NULL |     20 |<br>|  7839 | KING   | PRESIDENT | NULL | 1981-11-17 | 5000.00 |    NULL |     10 |<br>|  7844 | TURNER | SALESMAN  | 7698 | 1981-09-08 | 1500.00 |    0.00 |     30 |<br>|  7876 | ADAMS  | CLERK     | 7788 | 1987-05-23 | 1100.00 |    NULL |     20 |<br>|  7900 | JAMES  | CLERK     | 7698 | 1981-12-03 |  950.00 |    NULL |     30 |<br>|  7902 | FORD   | ANALYST   | 7566 | 1981-12-03 | 3000.00 |    NULL |     20 |<br>|  7934 | MILLER | CLERK     | 7782 | 1982-01-23 | 1300.00 |    NULL |     10 |<br>+——-+——–+———–+——+————+———+———+——–+</p>
<p>mysql&gt; select * from dept;<br>+——–+————+———-+<br>| DEPTNO | DNAME      | LOC      |<br>+——–+————+———-+<br>|     10 | ACCOUNTING | NEW YORK |<br>|     20 | RESEARCH   | DALLAS   |<br>|     30 | SALES      | CHICAGO  |<br>|     40 | OPERATIONS | BOSTON   |<br>+——–+————+———-+</p>
<p>mysql&gt; select * from salgrade;<br>+——-+——-+——-+<br>| GRADE | LOSAL | HISAL |<br>+——-+——-+——-+<br>|     1 |   700 |  1200 |<br>|     2 |  1201 |  1400 |<br>|     3 |  1401 |  2000 |<br>|     4 |  2001 |  3000 |<br>|     5 |  3001 |  9999 |<br>+——-+——-+——-+</p>
<p>9、常用命令？<br>mysql&gt; select database(); 查看当前使用的是哪个数据库<br>+————-+<br>| database()  |<br>+————-+<br>| bjpowernode |<br>+————-+</p>
<p>mysql&gt; select version(); 查看mysql的版本号。<br>+———–+<br>| version() |<br>+———–+<br>| 5.5.36    |<br>+———–+</p>
<p>\c   命令，结束一条语句。</p>
<p>exit 命令，退出mysql。</p>
<p>10、查看创建表的语句：<br>    show create table emp;</p>
<p>11、简单的查询语句（DQL）</p>
<pre><code>语法格式：
    select 字段名1,字段名2,字段名3,.... from 表名;

提示：
    1、任何一条sql语句以“;”结尾。
    2、sql语句不区分大小写。

查询员工的年薪？（字段可以参与数学运算。）
    select ename,sal * 12 from emp;
    +--------+----------+
    | ename  | sal * 12 |
    +--------+----------+
    | SMITH  |  9600.00 |
    | ALLEN  | 19200.00 |
    | WARD   | 15000.00 |
    | JONES  | 35700.00 |
    | MARTIN | 15000.00 |
    | BLAKE  | 34200.00 |
    | CLARK  | 29400.00 |
    | SCOTT  | 36000.00 |
    | KING   | 60000.00 |
    | TURNER | 18000.00 |
    | ADAMS  | 13200.00 |
    | JAMES  | 11400.00 |
    | FORD   | 36000.00 |
    | MILLER | 15600.00 |
    +--------+----------+

给查询结果的列重命名？
    select ename,sal * 12 as yearsal from emp;

别名中有中文？
    select ename,sal * 12 as 年薪 from emp; // 错误
    select ename,sal * 12 as &#39;年薪&#39; from emp;
    +--------+----------+
    | ename  | 年薪        |
    +--------+----------+
    | SMITH  |  9600.00 |
    | ALLEN  | 19200.00 |
    | WARD   | 15000.00 |
    | JONES  | 35700.00 |
    | MARTIN | 15000.00 |
    | BLAKE  | 34200.00 |
    | CLARK  | 29400.00 |
    | SCOTT  | 36000.00 |
    | KING   | 60000.00 |
    | TURNER | 18000.00 |
    | ADAMS  | 13200.00 |
    | JAMES  | 11400.00 |
    | FORD   | 36000.00 |
    | MILLER | 15600.00 |
    +--------+----------+

注意：标准sql语句中要求字符串使用单引号括起来。虽然mysql支持双引号，尽量别用。

as关键字可以省略？
    mysql&gt; select empno,ename,sal * 12 yearsal from emp;
    +-------+--------+----------+
    | empno | ename  | yearsal  |
    +-------+--------+----------+
    |  7369 | SMITH  |  9600.00 |
    |  7499 | ALLEN  | 19200.00 |
    |  7521 | WARD   | 15000.00 |
    |  7566 | JONES  | 35700.00 |
    |  7654 | MARTIN | 15000.00 |
    |  7698 | BLAKE  | 34200.00 |
    |  7782 | CLARK  | 29400.00 |
    |  7788 | SCOTT  | 36000.00 |
    |  7839 | KING   | 60000.00 |
    |  7844 | TURNER | 18000.00 |
    |  7876 | ADAMS  | 13200.00 |
    |  7900 | JAMES  | 11400.00 |
    |  7902 | FORD   | 36000.00 |
    |  7934 | MILLER | 15600.00 |
    +-------+--------+----------+

查询所有字段？
    select * from emp; // 实际开发中不建议使用*，效率较低。
</code></pre>
<p>12、条件查询。<br>    语法格式：<br>        select<br>            字段,字段…<br>        from<br>            表名<br>        where<br>            条件;</p>
<pre><code>执行顺序：先from，然后where，最后select

查询工资等于5000的员工姓名？
    select ename from emp where sal = 5000;
    +-------+
    | ename |
    +-------+
    | KING  |
    +-------+
查询SMITH的工资？
    select sal from emp where ename = &#39;SMITH&#39;; // 字符串使用单引号括起来。
    +--------+
    | sal    |
    +--------+
    | 800.00 |
    +--------+
找出工资高于3000的员工？
    select ename,sal from emp where sal &gt; 3000;

    select ename,sal from emp where sal &gt;= 3000;

    select ename,sal from emp where sal &lt; 3000;

    select ename,sal from emp where sal &lt;= 3000;

找出工资不等于3000的？
    select ename,sal from emp where sal &lt;&gt; 3000;
    select ename,sal from emp where sal != 3000;

找出工资在1100和3000之间的员工，包括1100和3000？
    select ename,sal from emp where sal &gt;= 1100 and sal &lt;= 3000;

    select ename,sal from emp where sal between 1100 and 3000; // between...and...是闭区间 [1100 ~ 3000]

    select ename,sal from emp where sal between 3000 and 1100; // 查询不到任何数据

    between and在使用的时候必须左小右大。

    between and除了可以使用在数字方面之外，还可以使用在字符串方面。
    select ename from emp where ename between &#39;A&#39; and &#39;C&#39;;
    +-------+
    | ename |0
    +-------+
    | ALLEN |
    | BLAKE |
    | ADAMS |
    +-------+
    select ename from emp where ename between &#39;A&#39; and &#39;D&#39;; // 左闭右开。

    找出哪些人津贴为NULL？
        在数据库当中NULL不是一个值，代表什么也没有，为空。
        空不是一个值，不能用等号衡量。
        必须使用 is null或者is not null
        select ename,sal,comm from emp where comm is null;
        +--------+---------+------+
        | ename  | sal     | comm |
        +--------+---------+------+
        | SMITH  |  800.00 | NULL |
        | JONES  | 2975.00 | NULL |
        | BLAKE  | 2850.00 | NULL |
        | CLARK  | 2450.00 | NULL |
        | SCOTT  | 3000.00 | NULL |
        | KING   | 5000.00 | NULL |
        | ADAMS  | 1100.00 | NULL |
        | JAMES  |  950.00 | NULL |
        | FORD   | 3000.00 | NULL |
        | MILLER | 1300.00 | NULL |
        +--------+---------+------+
        select ename,sal,comm from emp where comm = null;
        Empty set (0.00 sec)

    找出哪些人津贴不为NULL？
        select ename,sal,comm from emp where comm is not null;
        +--------+---------+---------+
        | ename  | sal     | comm    |
        +--------+---------+---------+
        | ALLEN  | 1600.00 |  300.00 |
        | WARD   | 1250.00 |  500.00 |
        | MARTIN | 1250.00 | 1400.00 |
        | TURNER | 1500.00 |    0.00 |
        +--------+---------+---------+
    
    找出哪些人没有津贴？
        select ename,sal,comm from emp where comm is null or comm = 0;
        +--------+---------+------+
        | ename  | sal     | comm |
        +--------+---------+------+
        | SMITH  |  800.00 | NULL |
        | JONES  | 2975.00 | NULL |
        | BLAKE  | 2850.00 | NULL |
        | CLARK  | 2450.00 | NULL |
        | SCOTT  | 3000.00 | NULL |
        | KING   | 5000.00 | NULL |
        | TURNER | 1500.00 | 0.00 |
        | ADAMS  | 1100.00 | NULL |
        | JAMES  |  950.00 | NULL |
        | FORD   | 3000.00 | NULL |
        | MILLER | 1300.00 | NULL |
        +--------+---------+------+
    
    找出工作岗位是MANAGER和SALESMAN的员工？
        select ename,job from emp where job = &#39;MANAGER&#39; or job = &#39;SALESMAN&#39;;
        +--------+----------+
        | ename  | job      |
        +--------+----------+
        | ALLEN  | SALESMAN |
        | WARD   | SALESMAN |
        | JONES  | MANAGER  |
        | MARTIN | SALESMAN |
        | BLAKE  | MANAGER  |
        | CLARK  | MANAGER  |
        | TURNER | SALESMAN |
        +--------+----------+
    
    and和or联合起来用：找出薪资大于1000的并且部门编号是20或30部门的员工。
        select ename,sal,deptno from emp where sal &gt; 1000 and deptno = 20 or deptno = 30; // 错误的
        select ename,sal,deptno from emp where sal &gt; 1000 and (deptno = 20 or deptno = 30); // 正确的。
        注意：当运算符的优先级不确定的时候加小括号。
    
    in等同于or：找出工作岗位是MANAGER和SALESMAN的员工？
        select ename,job from emp where job = &#39;SALESMAN&#39; or job = &#39;MANAGER&#39;;
        select ename,job from emp where job in(&#39;SALESMAN&#39;, &#39;MANAGER&#39;);

        select ename,job from emp where sal in(800, 5000); // in后面的值不是区间，是具体的值。
        +-------+-----------+
        | ename | job       |
        +-------+-----------+
        | SMITH | CLERK     |
        | KING  | PRESIDENT |
        +-------+-----------+
    
    not in: 不在这几个值当中。
        select ename,job from emp where sal not in(800, 5000);
    
    模糊查询like ? 
        找出名字当中含有O的？
            （在模糊查询当中，必须掌握两个特殊的符号，一个是%，一个是_）
            %代表任意多个字符，_代表任意1个字符。
            select ename from emp where ename like &#39;%O%&#39;;
            +-------+
            | ename |
            +-------+
            | JONES |
            | SCOTT |
            | FORD  |
            +-------+
        找出名字中第二个字母是A的？
            select ename from emp where ename like &#39;_A%&#39;;
            +--------+
            | ename  |
            +--------+
            | WARD   |
            | MARTIN |
            | JAMES  |
            +--------+
        找出名字中有下划线的？
            mysql&gt; select * from t_user;
            +------+----------+
            | id   | name     |
            +------+----------+
            |    1 | zhangsan |
            |    2 | lisi     |
            |    3 | WANG_WU  |
            +------+----------+
            select name from t_user where name like &#39;%_%&#39;;
            +----------+
            | name     |
            +----------+
            | zhangsan |
            | lisi     |
            | WANG_WU  |
            +----------+
            select name from t_user where name like &#39;%\_%&#39;;
            +---------+
            | name    |
            +---------+
            | WANG_WU |
            +---------+

        找出名字中最后一个字母是T的？
            select ename from emp where ename like &#39;%T&#39;;
            +-------+
            | ename |
            +-------+
            | SCOTT | 
            +-------+
</code></pre>
<p>13、排序（升序、降序）</p>
<p>按照工资升序，找出员工名和薪资？<br>    select<br>        ename,sal<br>    from<br>        emp<br>    order by<br>        sal;<br>+——–+———+<br>| ename  | sal     |<br>+——–+———+<br>| SMITH  |  800.00 |<br>| JAMES  |  950.00 |<br>| ADAMS  | 1100.00 |<br>| WARD   | 1250.00 |<br>| MARTIN | 1250.00 |<br>| MILLER | 1300.00 |<br>| TURNER | 1500.00 |<br>| ALLEN  | 1600.00 |<br>| CLARK  | 2450.00 |<br>| BLAKE  | 2850.00 |<br>| JONES  | 2975.00 |<br>| FORD   | 3000.00 |<br>| SCOTT  | 3000.00 |<br>| KING   | 5000.00 |<br>+——–+———+</p>
<p>注意：默认是升序。怎么指定升序或者降序呢？asc表示升序，desc表示降序。<br>    select ename , sal from emp order by sal; &#x2F;&#x2F; 升序<br>    select ename , sal from emp order by sal asc; &#x2F;&#x2F; 升序<br>    select ename , sal from emp order by sal desc; &#x2F;&#x2F; 降序。</p>
<p>按照工资的降序排列，当工资相同的时候再按照名字的升序排列。<br>    select ename,sal from emp order by sal desc;<br>    select ename,sal from emp order by sal desc , ename asc;<br>    注意：越靠前的字段越能起到主导作用。只有当前面的字段无法完成排序的时候，才会启用后面的字段。</p>
<p>找出工作岗位是SALESMAN的员工，并且要求按照薪资的降序排列。<br>    select<br>        ename,job,sal<br>    from<br>        emp<br>    where<br>        job &#x3D; ‘SALESMAN’<br>    order by<br>        sal desc;<br>+——–+———-+———+<br>| ename  | job      | sal     |<br>+——–+———-+———+<br>| ALLEN  | SALESMAN | 1600.00 |<br>| TURNER | SALESMAN | 1500.00 |<br>| WARD   | SALESMAN | 1250.00 |<br>| MARTIN | SALESMAN | 1250.00 |<br>+——–+———-+———+</p>
<pre><code>select 
    字段						3
from
    表名						1
where
    条件						2
order by
    ....						4

order by是最后执行的。
</code></pre>
<p>14、分组函数？<br>    count 计数<br>    sum 求和<br>    avg 平均值<br>    max 最大值<br>    min 最小值</p>
<pre><code>记住：所有的分组函数都是对“某一组”数据进行操作的。

找出工资总和？
    select sum(sal) from emp;
找出最高工资？
    select max(sal) from emp;
找出最低工资？
    select min(sal) from emp;
找出平均工资？
    select avg(sal) from emp;
找出总人数？
    select count(*) from emp;
    select count(ename) from emp;

分组函数一共5个。
分组函数还有另一个名字：多行处理函数。
多行处理函数的特点：输入多行，最终输出的结果是1行。

分组函数自动忽略NULL。
    select count(comm) from emp;
    +-------------+
    | count(comm) |
    +-------------+
    |           4 |
    +-------------+

    select sum(comm) from emp;
    +-----------+
    | sum(comm) |
    +-----------+
    |   2200.00 |
    +-----------+

    select sum(comm) from emp where comm is not null; // 不需要额外添加这个过滤条件。sum函数自动忽略NULL。

    找出工资高于平均工资的员工？
        select avg(sal) from emp; // 平均工资
        +-------------+
        | avg(sal)    |
        +-------------+
        | 2073.214286 |
        +-------------+

        select ename,sal from emp where sal &gt; avg(sal); //ERROR 1111 (HY000): Invalid use of group function
        思考以上的错误信息：无效的使用了分组函数？
            原因：SQL语句当中有一个语法规则，分组函数不可直接使用在where子句当中。why????
            怎么解释？
                因为group by是在where执行之后才会执行的。
            
            select		5
                ..			
            from			1
                ..
            where			2
                ..
            group by		3
                ..
            having		4
                ..
            order by		6
                ..

count(*)和count(具体的某个字段)，他们有什么区别？
    count(*):不是统计某个字段中数据的个数，而是统计总记录条数。（和某个字段无关）
    count(comm): 表示统计comm字段中不为NULL的数据总数量。

分组函数也能组合起来用：
    select count(*),sum(sal),avg(sal),max(sal),min(sal) from emp;

    +----------+----------+-------------+----------+----------+
    | count(*) | sum(sal) | avg(sal)    | max(sal) | min(sal) |
    +----------+----------+-------------+----------+----------+
    |       14 | 29025.00 | 2073.214286 |  5000.00 |   800.00 |
    +----------+----------+-------------+----------+----------+

找出工资高于平均工资的员工？
    第一步：找出平均工资
        select avg(sal) from emp;
        +-------------+
        | avg(sal)    |
        +-------------+
        | 2073.214286 |
        +-------------+
    第二步：找出高于平均工资的员工
        select ename,sal from emp where sal &gt; 2073.214286;
        +-------+---------+
        | ename | sal     |
        +-------+---------+
        | JONES | 2975.00 |
        | BLAKE | 2850.00 |
        | CLARK | 2450.00 |
        | SCOTT | 3000.00 |
        | KING  | 5000.00 |
        | FORD  | 3000.00 |
        +-------+---------+

        select ename,sal from emp where sal &gt; (select avg(sal) from emp);
</code></pre>
<p>15、单行处理函数<br>    什么是单行处理函数？<br>        输入一行，输出一行。</p>
<pre><code>计算每个员工的年薪？
    select ename,(sal+comm)*12 as yearsal from emp;
    重点：所有数据库都是这样规定的，只要有NULL参与的运算结果一定是NULL。
    使用ifnull函数：
    select ename,(sal+ifnull(comm,0))*12 as yearsal from emp;

ifnull() 空处理函数？
    ifnull(可能为NULL的数据,被当做什么处理) ： 属于单行处理函数。
    select ename,ifnull(comm,0) as comm from emp;
    +--------+---------+
    | ename  | comm    |
    +--------+---------+
    | SMITH  |    0.00 |
    | ALLEN  |  300.00 |
    | WARD   |  500.00 |
    | JONES  |    0.00 |
    | MARTIN | 1400.00 |
    | BLAKE  |    0.00 |
    | CLARK  |    0.00 |
    | SCOTT  |    0.00 |
    | KING   |    0.00 |
    | TURNER |    0.00 |
    | ADAMS  |    0.00 |
    | JAMES  |    0.00 |
    | FORD   |    0.00 |
    | MILLER |    0.00 |
    +--------+---------+
</code></pre>
<p>16、group by 和 having</p>
<pre><code>group by ： 按照某个字段或者某些字段进行分组。
having : having是对分组之后的数据进行再次过滤。

案例：找出每个工作岗位的最高薪资。
select max(sal),job from emp group by job;

+----------+-----------+
| max(sal) | job       |
+----------+-----------+
|  3000.00 | ANALYST   |
|  1300.00 | CLERK     |
|  2975.00 | MANAGER   |
|  5000.00 | PRESIDENT |
|  1600.00 | SALESMAN  |
+----------+-----------+
</code></pre>
<p>?	</p>
<pre><code>注意：分组函数一般都会和group by联合使用，这也是为什么它被称为分组函数的原因。
并且任何一个分组函数（count sum avg max min）都是在group by语句执行结束之后才会执行的。
当一条sql语句没有group by的话，整张表的数据会自成一组。

select ename,max(sal),job from emp group by job;
以上在mysql当中，查询结果是有的，但是结果没有意义，在Oracle数据库当中会报错。语法错误。
Oracle的语法规则比MySQL语法规则严谨。
记住一个规则：当一条语句中有group by的话，select后面只能跟分组函数和参与分组的字段。

每个工作岗位的平均薪资？
    select job,avg(sal) from emp group by job;
    +-----------+-------------+
    | job       | avg(sal)    |
    +-----------+-------------+
    | ANALYST   | 3000.000000 |
    | CLERK     | 1037.500000 |
    | MANAGER   | 2758.333333 |
    | PRESIDENT | 5000.000000 |
    | SALESMAN  | 1400.000000 |
    +-----------+-------------+

多个字段能不能联合起来一块分组？
案例：找出每个部门不同工作岗位的最高薪资。
    select 
        deptno,job,max(sal)
    from
        emp
    group by
        deptno,job;

找出每个部门的最高薪资，要求显示薪资大于2900的数据。

    第一步：找出每个部门的最高薪资
    select max(sal),deptno from emp group by deptno;
    +----------+--------+
    | max(sal) | deptno |
    +----------+--------+
    |  5000.00 |     10 |
    |  3000.00 |     20 |
    |  2850.00 |     30 |
    +----------+--------+

    第二步：找出薪资大于2900
    select max(sal),deptno from emp group by deptno having max(sal) &gt; 2900; // 这种方式效率低。
    +----------+--------+
    | max(sal) | deptno |
    +----------+--------+
    |  5000.00 |     10 |
    |  3000.00 |     20 |
    +----------+--------+

    select max(sal),deptno from emp where sal &gt; 2900 group by deptno;  // 效率较高，建议能够使用where过滤的尽量使用where。
    +----------+--------+
    | max(sal) | deptno |
    +----------+--------+
    |  5000.00 |     10 |
    |  3000.00 |     20 |
    +----------+--------+

找出每个部门的平均薪资，要求显示薪资大于2000的数据。

第一步：找出每个部门的平均薪资
select deptno,avg(sal) from emp group by deptno;
+--------+-------------+
| deptno | avg(sal)    |
+--------+-------------+
|     10 | 2916.666667 |
|     20 | 2175.000000 |
|     30 | 1566.666667 |
+--------+-------------+

第二步：要求显示薪资大于2000的数据
select deptno,avg(sal) from emp group by deptno having avg(sal) &gt; 2000;	
+--------+-------------+
| deptno | avg(sal)    |
+--------+-------------+
|     10 | 2916.666667 |
|     20 | 2175.000000 |
+--------+-------------+

where后面不能使用分组函数：
    select deptno,avg(sal) from emp where avg(sal) &gt; 2000 group by deptno;	// 错误了。
    这种情况只能使用having过滤。
</code></pre>
<p>17、总结一个完整的DQL语句怎么写？</p>
<pre><code>select		5
    ..
from			1	
    ..
where			2
    ..
group by		3
    ..
having		4
    ..
order by		6
    ..
</code></pre>

        <!-- 分类文章 -->
        
          <div class="post-categoris-bottom">
            <div class="post-categoris-name">数据库</div>
            <ul>
            
            
              
            
            
            
            
            
              
                <li class="me base">
                  <a  href="/GaoHangIdea/2022/10/19/MySQL%E8%AF%BE%E5%A0%82%E7%AC%94%E8%AE%B0-day01/" class="post-categoris-bottom-link">
                  Mysql1
                </a>
                </li>
              
              
            
            
            
              
                <li class="base">
                  <a  href="/GaoHangIdea/2022/10/19/MySQL%E8%AF%BE%E5%A0%82%E7%AC%94%E8%AE%B0-day02/" class="post-categoris-bottom-link">
                  Mysql2
                </a>
                </li>
              
              
            
            
            
              
                <li class="base">
                  <a  href="/GaoHangIdea/2022/10/19/MySQL%E8%AF%BE%E5%A0%82%E7%AC%94%E8%AE%B0-day03/" class="post-categoris-bottom-link">
                  Mysql3
                </a>
                </li>
              
              
            
            
            
            
            
            
            
              
            
            
            
            
            </ul>

          </div>

        
      </div>
      <div class="post-content-inner-space">
        
          <div class="space-toc-main animate__animated  animate__fadeInUp">
            <ol class="space-toc"><li class="space-toc-item space-toc-level-2"><a class="space-toc-link" href="#1%E3%80%81sql%E3%80%81DB%E3%80%81DBMS%E5%88%86%E5%88%AB%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%8C%E4%BB%96%E4%BB%AC%E4%B9%8B%E9%97%B4%E7%9A%84%E5%85%B3%E7%B3%BB%EF%BC%9F"><span class="space-toc-text">1、sql、DB、DBMS分别是什么，他们之间的关系？</span></a></li><li class="space-toc-item space-toc-level-2"><a class="space-toc-link" href="#2%E3%80%81%E4%BB%80%E4%B9%88%E6%98%AF%E8%A1%A8%EF%BC%9F"><span class="space-toc-text">2、什么是表？</span></a></li><li class="space-toc-item space-toc-level-2"><a class="space-toc-link" href="#3%E3%80%81%E5%AD%A6%E4%B9%A0MySQL%E4%B8%BB%E8%A6%81%E8%BF%98%E6%98%AF%E5%AD%A6%E4%B9%A0%E9%80%9A%E7%94%A8%E7%9A%84SQL%E8%AF%AD%E5%8F%A5%EF%BC%8C%E9%82%A3%E4%B9%88SQL%E8%AF%AD%E5%8F%A5%E5%8C%85%E6%8B%AC%E5%A2%9E%E5%88%A0%E6%94%B9%E6%9F%A5%EF%BC%8CSQL%E8%AF%AD%E5%8F%A5%E6%80%8E%E4%B9%88%E5%88%86%E7%B1%BB%E5%91%A2%EF%BC%9F"><span class="space-toc-text">3、学习MySQL主要还是学习通用的SQL语句，那么SQL语句包括增删改查，SQL语句怎么分类呢？</span></a></li><li class="space-toc-item space-toc-level-2"><a class="space-toc-link" href="#4%E3%80%81%E5%AF%BC%E5%85%A5%E6%95%B0%E6%8D%AE%EF%BC%88%E5%90%8E%E6%9C%9F%E5%A4%A7%E5%AE%B6%E7%BB%83%E4%B9%A0%E7%9A%84%E6%97%B6%E5%80%99%E4%BD%BF%E7%94%A8%E8%BF%99%E4%B8%AA%E6%BC%94%E7%A4%BA%E7%9A%84%E6%95%B0%E6%8D%AE%EF%BC%89"><span class="space-toc-text">4、导入数据（后期大家练习的时候使用这个演示的数据）</span></a></li><li class="space-toc-item space-toc-level-2"><a class="space-toc-link" href="#5%E3%80%81bjpowernode-sql%EF%BC%8C%E8%BF%99%E4%B8%AA%E6%96%87%E4%BB%B6%E4%BB%A5sql%E7%BB%93%E5%B0%BE%EF%BC%8C%E8%BF%99%E6%A0%B7%E7%9A%84%E6%96%87%E4%BB%B6%E8%A2%AB%E7%A7%B0%E4%B8%BA%E2%80%9Csql%E8%84%9A%E6%9C%AC%E2%80%9D%E3%80%82%E4%BB%80%E4%B9%88%E6%98%AFsql%E8%84%9A%E6%9C%AC%E5%91%A2%EF%BC%9F"><span class="space-toc-text">5、bjpowernode.sql，这个文件以sql结尾，这样的文件被称为“sql脚本”。什么是sql脚本呢？</span></a></li></ol>
           </div>
        
      </div>
   </div>
    <!-- 评论 -->
    
  </div>
</article>
  </div>
</div>



<!-- 如果是home模式的话，不在首页就显示footer，如果不是home模式的话 所有都显示footer -->

  <div class="footer-outer animate__animated  animate__fadeInUp">
    <div class="footer-inner">
    <div class="footer-text">
    <p>If you don&#96;t want anything, you will return with a full load !</p>

    </div>
    <div class="footer-contact">
    <ul class="footer-ul">
        
        <li class="footer-li">
            <a href="https://github.com/godgaohhh/GaoHangIdea" target="_blank">
                <i class="ri-github-line"></i>
            </a>
        </li>
        
        <li class="footer-li">
            <a href="mailto:GaoHangde01@outlook.com" target="_blank">
                <i class="ri-mail-line"></i>
            </a>
        </li>
        
    </ul>
    </div>
    </div>
</div>






<script src="/GaoHangIdea/js/white.js"></script>



    
      
<script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.18.1/build/highlight.min.js"></script>

      <script>hljs.initHighlightingOnLoad();</script>
    

</body>
</html>
